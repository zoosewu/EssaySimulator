/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _scss_main_scss__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./scss/main.scss */ \"./src/scss/main.scss\");\n\nvar Template = [\"#yourname\\u4ECA\\u5929\\u8DDF#friendsname\\u5728#where\\n\\n\\u525B\\u597D\\u807D\\u5230\\u65C1\\u908A\\u7684\\u4EBA\\u5728\\u8B1B#what\\n\\n#yourname\\u4E00\\u908A\\u5403\\u98EF\\u4E00\\u908A\\u4E00\\u908A\\u8AAA:\\n#yourresponse\\n\\n\\u53EA\\u898B#friendsname\\u4ED4\\u773C\\u7736\\u6CDB\\u7D05\\u770B\\u8D77\\u4F86\\u5373\\u5C07\\u6DDA\\u5D29\\uFF0C\\u4E00\\u908A\\u54FD\\u54BD\\u4E00\\u908A\\u6293\\u8457#yourname\\u7684\\u8863\\u9818\\u5C0D#yourname\\u543C\\u53EB\\uFF1A\\n#hisresponse\\n\\n\\u8AAA\\u8457#friendsname\\u5C31\\u5750\\u5728\\u5730\\u4E0A\\u5D29\\u6F70\\u5927\\u54ED\\uFF0C\\u5634\\u88E1\\u9084\\u542B\\u7CCA\\u5FF5\\u8457\\uFF1A\\n#hisresponse\\n\\n\\u6709\\u6C92\\u6709\\u5366\", \"\\u5982\\u63D0\\n\\n#yourname\\u4ECA\\u5929\\u5728#where\\u525B\\u597D\\u804A\\u5230#what\\n\\n#yourname\\u958B\\u73A9\\u7B11\\u8DDF#friendsname\\u8AAA:\\n#yourresponse\\n\\n\\u7D50\\u679C#friendsname\\u4E0D\\u77E5\\u9053\\u662F\\u4E0D\\u662F\\u53CD\\u61C9\\u904E\\u5EA6\\n\\n\\u76F4\\u63A5\\u628A\\u624B\\u4E0A\\u7684\\u7897\\u5F80#yourname\\u7684\\u65B9\\u5411\\u4E1F\\u904E\\u4F86\\n\\n\\u800C\\u4E14\\u773C\\u7736\\u6CDB\\u6DDA\\u3001\\u9762\\u7D05\\u8033\\u8D64\\u3001\\u795E\\u60C5\\u6FC0\\u52D5\\u7684\\u6572\\u684C\\u5B50\\n\\n\\u8A9E\\u5E36\\u54FD\\u54BD\\u7684\\u5486\\u562F:\\n#hisresponse\\n\\n\\u63A5\\u8457\\u5C31\\u6293\\u8D77#yourname\\u7684\\u8863\\u9818\\u4E00\\u908A\\u5C0D#yourname\\u6263\\u5E3D\\u5B50\\u4E00\\u908A\\u7FFB\\u958B#yourname\\u7684\\u53E3\\u888B\\n#hisresponse\\n\\n#friendsname\\u7A81\\u7136\\u9019\\u6A23\\u5927\\u9B27\\u5BB3#yourname\\u4E0D\\u77E5\\u9053\\u8A72\\u8B1B\\u4EC0\\u9EBC\\n\\n\\u5927\\u5BB6\\u90FD\\u770B\\u8457#friendsname\\u597D\\u50CF\\u5FEB\\u54ED\\u4E86\\n\\n\\u73FE\\u5834\\u6C23\\u6C1B\\u8B8A\\u5F97\\u5F88\\u5C37\\u5C2C\\u8A72\\u600E\\u9EBC\\u8FA6\\n\\n\\u6709\\u6C92\\u6709\\u5366\", \"\\u5982\\u63D0\\n\\n\\u4ECA\\u5929\\u767C\\u73FE#what\\n\\n#yourname\\u611F\\u5230\\u8207\\u6709\\u69AE\\u7109\\n\\n\\u4F46\\u662F#friendsname\\u537B\\u958B\\u59CB\\u9178\\u8A00\\u9178\\u8A9E\\u5531\\u8870\\u8A5B\\u5492:\\n#friendthinking\\n\\n#yourname\\u8DDF#friendsname\\u8AAA:\\n#yourresponse\\n\\n\\u7D50\\u679C\\u9084\\u6C92\\u7B49#yourname\\u8B1B\\u73A9\\uFF0C#friendsname\\u76F4\\u63A5\\u4E00\\u62F3\\u704C\\u5230#yourname\\u81C9\\u4E0A\\n\\n\\u9762\\u7D05\\u8033\\u8D64\\u800C\\u4E14\\u773C\\u7736\\u6CDB\\u6DDA\\u5C0D#yourname\\u6012\\u543C:\\n#hisresponse\\n\\n#yourname\\u770B#friendsname\\u53CD\\u61C9\\u9019\\u9EBC\\u5927\\u771F\\u7684\\u5687\\u5230\\u4E86\\n\\n#friendsname\\u73FE\\u5728\\u597D\\u50CF\\u6C23\\u5230\\u5FEB\\u54ED\\u4E86\\n\\n#yourname\\u8A72\\u600E\\u9EBC\\u8FA6\\n\\n\\u6709\\u6C92\\u6709\\u5366\\n\"];\nvar ReplaceRules = [{\n  key: \"yourname\"\n}, {\n  key: \"friendsname\"\n}, {\n  key: \"where\"\n}, {\n  key: \"what\"\n}, {\n  key: \"friendthinking\",\n  split: true,\n  Bracket: true\n}, {\n  key: \"yourresponse\",\n  split: true,\n  Bracket: true\n}, {\n  key: \"hisresponse\",\n  split: true,\n  Bracket: true\n}];\nvar Brackets = [\"「」\", \"【】\", \"\\\"\\\"\", \"''\", \"『』\", \"〔〕\"];\n\nfunction change_title() {\n  document.title = '朋友體模擬器';\n}\n\nfunction AddEventListener() {\n  document.getElementById(\"createpost\").addEventListener(\"click\", CreatePost);\n}\n\nfunction CreatePost() {\n  var userinputs = GetUserInputs();\n  var template = GetTemplate();\n  var newpost = GetReplacedText(template, userinputs);\n  console.log(newpost);\n  document.getElementById(\"post\").innerHTML = newpost;\n}\n\nfunction GetUserInputs() {\n  var inputs = [];\n  var Bracket = GetRandomBracket();\n\n  for (var index = 0; index < ReplaceRules.length; index++) {\n    var rule = ReplaceRules[index];\n    var input = document.getElementById(rule.key).value;\n\n    if (rule.Bracket) {\n      input = AddBracket(input, Bracket);\n    }\n\n    inputs.push(input);\n  }\n\n  return inputs;\n}\n\nfunction GetTemplate() {\n  return Template[getRandomInt(Template.length)];\n}\n\nfunction AddBracket(input, Bracket) {\n  var PreBracket = Bracket.charAt(0);\n  var PostBracket = Bracket.charAt(1);\n  return PreBracket + input.replaceAll(\"\\n\", PostBracket + \"\\n\" + PreBracket) + PostBracket;\n}\n\nfunction GetRandomBracket() {\n  return Brackets[getRandomInt(Brackets.length)];\n}\n\nfunction GetReplacedText(post, userinputs) {\n  var newpost = post;\n\n  for (var index = 0; index < userinputs.length; index++) {\n    var replacerule = ReplaceRules[index];\n    console.log(\"GetReplacedText\", replacerule);\n\n    if (replacerule.split) {\n      newpost = ReplaceTextWithSplit(newpost, replacerule, userinputs[index]);\n    } else {\n      newpost = ReplaceText(newpost, replacerule, userinputs[index]);\n    }\n  }\n\n  return newpost;\n}\n\nfunction ReplaceTextWithSplit(post, replacerule, newtext) {\n  var newpost = post;\n  var key = \"#\" + replacerule.key;\n  var splitcount = GetSplitCount(post, key);\n  var NewTextArray = SplitText(newtext, splitcount);\n\n  for (var index = 0; index < NewTextArray.length; index++) {\n    newpost = newpost.replace(key, NewTextArray[index]);\n    console.log(\"ReplaceTextWithSplit\", \"replace\", index, NewTextArray[index]);\n  }\n\n  console.log(\"ReplaceTextWithSplit\", key, splitcount, NewTextArray, post, newpost);\n  return newpost;\n}\n\nfunction GetSplitCount(post, key) {\n  var match = post.match(new RegExp(key, \"g\"));\n  if (match) return match.length;else return 0;\n}\n\nfunction ReplaceText(post, replacerule, newtext) {\n  var key = \"#\" + replacerule.key;\n  console.log(\"ReplaceText\", key, post);\n  return post.replaceAll(key, newtext);\n}\n\nfunction SplitText(text, outputCount) {\n  var textarray = [];\n  var textes = text.split('\\n');\n  var SplitArray = GetRandomArray(textes.length, outputCount - 1);\n\n  for (var i = 0; i < outputCount; i++) {\n    var newtext = \"\";\n\n    if (i === 0) {\n      var SplitPosition = SplitArray[i];\n      newtext = textes.slice(0, SplitPosition).join('\\n');\n    } else if (i === outputCount) {\n      var LastSplitPosition = SplitArray[i - 1];\n      newtext = textes.slice(LastSplitPosition, textes.length).join('\\n');\n    } else {\n      var _SplitPosition = SplitArray[i];\n      var _LastSplitPosition = SplitArray[i - 1];\n      newtext = textes.slice(_LastSplitPosition, _SplitPosition).join('\\n');\n    }\n\n    textarray.push(newtext);\n  }\n\n  console.log(\"SplitText\", textarray, SplitArray, textes);\n  return textarray;\n}\n\nfunction GetRandomArray(max, count) {\n  if (max <= count) {\n    return GetIntArray(count);\n  } else {\n    return GetIntArrayRandomly(max, count);\n  }\n}\n\nfunction GetIntArray(count) {\n  var IntArray = [];\n\n  for (var i = 0; i < count; i++) {\n    IntArray.push(i);\n  }\n\n  return IntArray;\n}\n\nfunction GetIntArrayRandomly(max, count) {\n  var IntArray = [];\n\n  while (IntArray.length < count) {\n    var newint = getRandomInt(max - 1);\n    if (IntArray.indexOf(newint) === -1) IntArray.push(newint + 1);\n  }\n\n  return IntArray.sort();\n}\n\nfunction getRandomInt(max) {\n  return Math.floor(Math.random() * Math.floor(max));\n}\n\n(function () {\n  change_title();\n  AddEventListener();\n})();\n\n//# sourceURL=webpack://essay-simulator/./src/index.js?");

/***/ }),

/***/ "./src/scss/main.scss":
/*!****************************!*\
  !*** ./src/scss/main.scss ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://essay-simulator/./src/scss/main.scss?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;